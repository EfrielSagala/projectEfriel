{"ast":null,"code":"var _s = $RefreshSig$();\n// import React from 'react'\n\nimport React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport './* styles/LoginForm.css */';\nconst login = async (username, password) => {\n  try {\n    const response = await fetch(\"http://localhost:8080/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    });\n    if (response.ok) {\n      // Login berhasil\n      const data = await response.json();\n      const token = data.token;\n      // Simpan token di local storage\n      localStorage.setItem(\"token\", token);\n    } else {\n      // Login gagal\n      alert(\"Username atau password salah\");\n    }\n    return response;\n  } catch (error) {\n    console.error(\"Error during login:\", error);\n    throw error;\n  }\n};\nconst Login = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    state\n  } = location;\n  const handleLogin = async () => {\n    try {\n      const response = await login(username, password);\n      if (response.ok) {\n        // Login berhasil\n        navigate(\"/v1/book\");\n      } else {\n        // Login gagal\n      }\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n    }\n  };\n};\n_s(Login, \"FyxohRX9RS+A5aiPplBw/Os7uNg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","useLocation","login","username","password","response","fetch","method","headers","body","JSON","stringify","ok","data","json","token","localStorage","setItem","alert","error","console","Login","_s","setUsername","setPassword","navigate","location","state","handleLogin","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/Apipweb/frontend_API/frontend/src/components/Login.js"],"sourcesContent":["// import React from 'react'\r\n\r\nimport React, { useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport './* styles/LoginForm.css */'; \r\n\r\n\r\nconst login = async (username, password) => {\r\n  try {\r\n    const response = await fetch(\"http://localhost:8080/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        username,\r\n        password,\r\n      }),\r\n    });\r\n\r\n    if (response.ok) {\r\n      // Login berhasil\r\n      const data = await response.json();\r\n      const token = data.token;\r\n      // Simpan token di local storage\r\n      localStorage.setItem(\"token\", token);\r\n    } else {\r\n      // Login gagal\r\n      alert(\"Username atau password salah\");\r\n    }\r\n\r\n    return response;\r\n  } catch (error) {\r\n    console.error(\"Error during login:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { state } = location;\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const response = await login(username, password);\r\n  \r\n      if (response.ok) {\r\n        // Login berhasil\r\n        navigate(\"/v1/book\");\r\n      } else {\r\n        // Login gagal\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error during login:\", error);\r\n    }\r\n  };\r\n\r\n \r\n};\r\n\r\n\r\nexport default Login"],"mappings":";AAAA;;AAEA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,EAAEC,WAAW,QAAQ,kBAAkB;AAC3D,OAAO,6BAA6B;AAGpC,MAAMC,KAAK,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;MAC1DC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QACnBR,QAAQ;QACRC;MACF,CAAC;IACH,CAAC,CAAC;IAEF,IAAIC,QAAQ,CAACO,EAAE,EAAE;MACf;MACA,MAAMC,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MAClC,MAAMC,KAAK,GAAGF,IAAI,CAACE,KAAK;MACxB;MACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,KAAK,CAAC;IACtC,CAAC,MAAM;MACL;MACAG,KAAK,CAAC,8BAA8B,CAAC;IACvC;IAEA,OAAOb,QAAQ;EACjB,CAAC,CAAC,OAAOc,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC3C,MAAMA,KAAK;EACb;AACF,CAAC;AAGD,MAAME,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACnB,QAAQ,EAAEoB,WAAW,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACK,QAAQ,EAAEoB,WAAW,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM0B,QAAQ,GAAGzB,WAAW,CAAC,CAAC;EAC9B,MAAM0B,QAAQ,GAAGzB,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAE0B;EAAM,CAAC,GAAGD,QAAQ;EAE1B,MAAME,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMvB,QAAQ,GAAG,MAAMH,KAAK,CAACC,QAAQ,EAAEC,QAAQ,CAAC;MAEhD,IAAIC,QAAQ,CAACO,EAAE,EAAE;QACf;QACAa,QAAQ,CAAC,UAAU,CAAC;MACtB,CAAC,MAAM;QACL;MAAA;IAEJ,CAAC,CAAC,OAAON,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C;EACF,CAAC;AAGH,CAAC;AAACG,EAAA,CAvBID,KAAK;EAAA,QAGQrB,WAAW,EACXC,WAAW;AAAA;AAAA4B,EAAA,GAJxBR,KAAK;AA0BX,eAAeA,KAAK;AAAA,IAAAQ,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}